<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEON SIGNUP PORTAL â€” ironbro26fanclub</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Audiowide&display=swap" rel="stylesheet">
<style>
:root{--bg:#000;--neon:#ff0033;--neon-green:#00ff88;}
body{margin:0;font-family:'Orbitron',sans-serif;background:var(--bg);color:var(--neon);}
h1{font-family:'Audiowide',sans-serif;font-size:36px;text-align:center;text-shadow:0 0 12px rgba(255,0,51,0.9),0 0 40px rgba(255,0,51,0.14);animation:pulse 2s infinite;}
@keyframes pulse{0%{text-shadow:0 0 6px rgba(255,0,51,0.5);}50%{text-shadow:0 0 22px rgba(255,0,51,0.95);}100%{text-shadow:0 0 6px rgba(255,0,51,0.5);}}
.container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;}
.form{display:flex;flex-direction:column;gap:12px;width:320px;margin-top:20px;}
.input{padding:10px;border-radius:10px;border:1px solid rgba(255,0,51,0.2);background:transparent;color:#fff;outline:none;}
.input:focus{box-shadow:0 0 20px rgba(255,0,51,0.4);}
.btn{padding:12px;border-radius:10px;border:1px solid rgba(255,0,51,0.2);cursor:pointer;background:linear-gradient(180deg, rgba(255,0,51,0.06), rgba(255,0,51,0.01));color:#fff;font-weight:700;}
.btn:hover{box-shadow:0 0 30px rgba(255,0,51,0.5);}
.notice{margin-top:10px;padding:10px;border-radius:8px;background:rgba(0,0,0,0.4);border:1px solid rgba(255,0,51,0.06);color:#fff;display:none;text-align:center;}
.tabs{display:flex;gap:10px;justify-content:center;margin-top:20px;}
.tab{cursor:pointer;padding:8px 14px;border-radius:8px;border:1px solid rgba(255,0,51,0.2);}
.tab.active{box-shadow:0 0 20px rgba(255,0,51,0.5);}
</style>
</head>
<body>
<h1>NEON SIGNUP PORTAL</h1>
<div class="tabs">
  <div class="tab active" data-tab="signup">SIGN UP</div>
  <div class="tab" data-tab="login">LOGIN</div>
</div>

<div class="container">
  <div id="signupForm" class="form">
    <input type="email" id="sEmail" class="input" placeholder="Email" required>
    <input type="password" id="sPass" class="input" placeholder="Passcode" required>
    <button class="btn" id="signupBtn">Create Account</button>
  </div>

  <div id="loginForm" class="form" style="display:none;">
    <input type="email" id="lEmail" class="input" placeholder="Email" required>
    <input type="password" id="lPass" class="input" placeholder="Passcode" required>
    <button class="btn" id="loginBtn">Log In</button>
    <button class="btn" id="adminBtn" style="display:none;margin-top:10px;" onclick="goAdmin()">Access Admin Panel</button>
  </div>

  <div class="notice" id="notice"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, query, where } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCZ-kcVeGKjiQh4wgOe5yp-S9zxS8n3oZY",
  authDomain: "ironbro26-708c4.firebaseapp.com",
  projectId: "ironbro26-708c4",
  storageBucket: "ironbro26-708c4.firebasestorage.app",
  messagingSenderId: "47778309159",
  appId: "1:47778309159:web:0caea70db87468ca959a02",
  measurementId: "G-RWTEX313PX"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const OWNER_EMAIL="Krfuchs@icloud.com";
const OWNER_PASS="Krf11@2011";

const notice=document.getElementById('notice');
const signupFormDiv=document.getElementById('signupForm');
const loginFormDiv=document.getElementById('loginForm');
const signupBtn=document.getElementById('signupBtn');
const loginBtn=document.getElementById('loginBtn');
const adminBtn=document.getElementById('adminBtn');

const tabs=document.querySelectorAll('.tab');
tabs.forEach(tab=>tab.addEventListener('click',()=>{
  tabs.forEach(t=>t.classList.remove('active'));
  tab.classList.add('active');
  if(tab.dataset.tab==="signup"){signupFormDiv.style.display="flex"; loginFormDiv.style.display="none";}
  else{signupFormDiv.style.display="none"; loginFormDiv.style.display="flex";}
}));

function showNotice(msg){notice.style.display="block"; notice.textContent=msg; setTimeout(()=>{notice.style.display="none";},2000);}

// SIGNUP
signupBtn.addEventListener('click',async()=>{
  const email=document.getElementById('sEmail').value.trim();
  const pass=document.getElementById('sPass').value.trim();
  if(!email || !pass){showNotice("Enter email and passcode"); return;}

  // Check if email exists
  const q=query(collection(db,'users'), where("email","==",email));
  const existing=await getDocs(q);
  if(!existing.empty){showNotice("Email already registered"); return;}

  await addDoc(collection(db,'users'),{
    email, passcode:pass, signupTime:new Date().toISOString(), lastOnline:new Date().toISOString(), online:true
  });
  showNotice("Account created! Please login.");
  document.getElementById('sEmail').value=""; document.getElementById('sPass').value="";
  tabs[1].click(); // switch to login
});

// LOGIN
loginBtn.addEventListener('click',async()=>{
  const email=document.getElementById('lEmail').value.trim();
  const pass=document.getElementById('lPass').value.trim();
  if(!email || !pass){showNotice("Enter email and passcode"); return;}

  const q=query(collection(db,'users'), where("email","==",email), where("passcode","==",pass));
  const res=await getDocs(q);
  if(res.empty){showNotice("Invalid credentials"); return;}

  const userDoc=res.docs[0];
  await updateDoc(doc(db,'users',userDoc.id),{online:true,lastOnline:new Date().toISOString()});
  if(email===OWNER_EMAIL && pass===OWNER_PASS){
    showNotice("Owner logged in");
    adminBtn.style.display="block";
  }else{
    showNotice("Member logged in");
    adminBtn.style.display="none";
  }

  document.getElementById('lEmail').value=""; document.getElementById('lPass').value="";
});

function goAdmin(){window.location.href="admin.html";}
</script>
</body>
</html>
