<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ADMIN PANEL â€” ironbro26fanclub</title>
<style>
body{background:#000;color:#ff0033;font-family:'Orbitron',sans-serif;}
h1{text-align:center;color:#ff0033;margin-top:20px;}
table{width:100%;max-width:900px;margin:20px auto;border-collapse:collapse;}
th,td{border:1px solid rgba(255,0,51,0.2);padding:10px;text-align:center;}
th{background:rgba(255,0,51,0.05);}
.online{color:#00ff88;font-weight:700;}
.offline{color:#ff0033;font-weight:700;}
</style>
</head>
<body>
<h1>Admin Control Panel</h1>
<table>
  <thead>
    <tr><th>Email</th><th>Passcode</th><th>Signup Time</th><th>Status</th><th>Last Online</th></tr>
  </thead>
  <tbody id="usersTable"></tbody>
</table>

<script>
const BIN_ID = "68f65f92d0ea881f40aebb87";
const API_KEY = "$2a$10$wpHGujrPsIgbzGPptWRaIOkuT.9Bz2iSRN.gytSpwclZcQPr880tC";

async function fetchUsers() {
  const res = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {headers:{'X-Master-Key':API_KEY}});
  const data = await res.json();
  return data.record.users || [];
}

async function loadUsers() {
  const users = await fetchUsers();
  const tbody = document.getElementById('usersTable');
  tbody.innerHTML = '';
  users.forEach(u=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${u.email}</td><td>*****</td><td>${new Date(u.signupTime).toLocaleString()}</td>
                    <td class="${u.online?'online':'offline'}">${u.online?'Online':'Offline'}</td>
                    <td>${new Date(u.lastOnline).toLocaleString()}</td>`;
    tbody.appendChild(tr);
  });
}

loadUsers();
</script>
</body>
</html>
