<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - IronBro26</title>
<style>
body { background:#0d0d0d; color:#ff1a1a; font-family:Arial, sans-serif; display:flex; flex-direction:column; align-items:center; padding:50px; }
input { margin:10px 0; padding:10px; border-radius:5px; border:none; width:250px; text-align:center; background-color:#330000; color:#ff6666; box-shadow:0 0 5px #ff1a1a; }
button { padding:10px 20px; border-radius:5px; border:none; background:#ff1a1a; color:white; cursor:pointer; margin:10px 0; font-weight:bold; box-shadow:0 0 10px #ff1a1a; }
button:hover { background:#ff3333; box-shadow:0 0 15px #ff1a1a,0 0 30px #ff6666; }
</style>
</head>
<body>
<h1>Login</h1>
<input type="email" id="loginEmail" placeholder="Email" required>
<input type="password" id="loginPassword" placeholder="Password" required>
<button onclick="login()">Log In</button>

<script>
let users = JSON.parse(localStorage.getItem('users')) || [];

function login() {
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;

  const user = users.find(u => u.email === email && u.password === password);
  if (!user) { alert("Invalid email or password!"); return; }

  if (user.role !== 'admin') { alert("Access denied. Only admin can enter."); return; }

  // Update lastActive and store current user
  user.lastActive = Date.now();
  localStorage.setItem('users', JSON.stringify(users));
  localStorage.setItem('currentUser', JSON.stringify(user));

  window.location.href = "admin.html"; // go to admin panel
}
</script>
</body>
</html>
